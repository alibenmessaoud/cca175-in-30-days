# CCA-175: Chapter 2

### Hadoop Architecture:

- Cluster:  a set of machines. It provides storage, process & management of resources
- Node: a machine in a cluster
- Master: a node that manages work and data process
- Daemon: a program running in a node

=> Cluster = {Resources Manager + Process + Storage}



### Storage:

HDFS:

- FS written in Java, based on Google FS, sits on top of native FS, provides redundant storage

  - HDFS => OSFS => Hard drive

- Best performance increase with millions and large files

- Files are written once so no random write

- Optimized for large reads and streaming, so no random reads

- Split files to 128 MB by default, distribute at load time and replicate on multiple Data Nodes (3x)

- Name Node stores the locations of files and blocks (metadata)

- Example:

  - f1.txt goes to 3 blocks 1, 2, 3

  - f2.txt goes to 2 blocks 4, 5

  - Cluster nodes are A, B, C, D, E

  - Storing goes as A(1, 3, 4), B(1, 2, 3, 4), C(3, 5), D(1, 2, 5), E(2, 4, 5)

  - Name nodes stores : 

    f1.txt => 1, 2, 3; f2.txt => 4, 5

    1 => A, B, D; 2 => B, D, E; 3 => A, B, C; 4 => A, B, E; 5 => C, E, D

- Name node run all the time. If the Name Node stops, the cluster becomes inaccessible. HDFS is set known for high availability! => Two Name Nodes: Active and Standby : Standby Name Node takes over automatically if Active Name Node fails.

